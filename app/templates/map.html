{% extends "main_map.html" %}

{% block script %}
    <script>
    let data = ({{ time }});
    let data_x = data[0];
    let data_y = data[1];
    let data_z = data[2];

    data = [{
        x: data_x,
        y: data_y,
        z: data_z,
        type: 'surface',
        colorscale: ({{ colormap|tojson }}),
        colorbar: {
            x: 1
        }
    }];

    let axis = {
        showgrid: false,
        zeroline: false,
        showline: false,
        autotick: true,
        ticks: '',
        showticklabels: false,
        title: {
            text: "",
            font: {size: 20, family: "myFirstFont", color: "black"}
        }
    };

    let layout = {
        autosize: false,
        width: 1322,
        height: 843,
        margin: {b: 0, t: 0, l: 0, r: 0,},
        scene: {
            camera: {
                center: {
                    z: -0.1
                },
                eye: {
                    z: 0.7,
                    x: 1.1,
                    y: 1.1
                }
            },
            aspectmode: "data",
            xaxis: axis,
            yaxis: axis,
            zaxis: axis,
        }
    };

    Plotly.plot('chart', data, layout);

    let chart = document.getElementsByClassName("main-svg");
    chart[0].style.backgroundImage = "url('static/background.jpeg')";
    </script>
{% endblock %}